{"ast":null,"code":"var _jsxFileName = \"/Users/shulin/Development/code/phase-3/phase-3-final-project/phase-3-sinatra-react-project-client/src/Shop.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport FruitList from \"./FruitList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Shop() {\n  _s();\n\n  const {\n    ownerId\n  } = useParams();\n  const history = useHistory();\n  const [fruits, setFruits] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  fetch(`http://localhost:9292/owners/${ownerId}/fruits`).then(r => r.json()).then(fruits => {\n    console.log(fruits);\n    setFruits(fruits);\n  });\n\n  function handleAddFruit(newFruit) {\n    setFruits([...fruits, newFruit]);\n  }\n\n  function handleDeleteFruit(id) {\n    const updatedFruits = fruits.filter(fruit => fruit.id !== id);\n    setFruits(updatedFruits);\n  }\n\n  function handleUpdateFruit(updatedFruit) {\n    const updatedFruits = fruits.map(fruit => {\n      if (fruit.id === updatedFruit.id) {\n        return updatedFruit;\n      } else {\n        return fruit;\n      }\n    });\n    setFruits(updatedFruits);\n  }\n\n  const showFruits = fruits.filter(fruit => fruit.name.toLowerCase().includes(search.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(FruitList, {\n      fruits: showFruits,\n      onDeleteFruit: handleDeleteFruit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 4\n  }, this);\n}\n\n_s(Shop, \"FcQ3AFL81O6JtoJoRRw3puHdc6w=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = Shop;\nexport default Shop;\n\nvar _c;\n\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"sources":["/Users/shulin/Development/code/phase-3/phase-3-final-project/phase-3-sinatra-react-project-client/src/Shop.js"],"names":["React","useEffect","useState","useParams","useHistory","FruitList","Shop","ownerId","history","fruits","setFruits","search","setSearch","fetch","then","r","json","console","log","handleAddFruit","newFruit","handleDeleteFruit","id","updatedFruits","filter","fruit","handleUpdateFruit","updatedFruit","map","showFruits","name","toLowerCase","includes"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAQC,SAAR,EAAmBC,UAAnB,QAAoC,kBAApC;AACA,OAAOC,SAAP,MAAsB,aAAtB;;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AACd,QAAM;AAACC,IAAAA;AAAD,MAAYJ,SAAS,EAA3B;AACA,QAAMK,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAM,CAACK,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AAGAW,EAAAA,KAAK,CAAE,gCAA+BN,OAAQ,SAAzC,CAAL,CACCO,IADD,CACOC,CAAD,IAAOA,CAAC,CAACC,IAAF,EADb,EAECF,IAFD,CAEOL,MAAD,IAAY;AAChBQ,IAAAA,OAAO,CAACC,GAAR,CAAYT,MAAZ;AACAC,IAAAA,SAAS,CAACD,MAAD,CAAT;AACD,GALD;;AAOA,WAASU,cAAT,CAAwBC,QAAxB,EAAkC;AAChCV,IAAAA,SAAS,CAAC,CAAC,GAAGD,MAAJ,EAAYW,QAAZ,CAAD,CAAT;AACD;;AAED,WAASC,iBAAT,CAA2BC,EAA3B,EAA+B;AAC7B,UAAMC,aAAa,GAAGd,MAAM,CAACe,MAAP,CAAeC,KAAD,IAAWA,KAAK,CAACH,EAAN,KAAaA,EAAtC,CAAtB;AACAZ,IAAAA,SAAS,CAACa,aAAD,CAAT;AACD;;AAED,WAASG,iBAAT,CAA2BC,YAA3B,EAAyC;AACvC,UAAMJ,aAAa,GAAGd,MAAM,CAACmB,GAAP,CAAYH,KAAD,IAAW;AAC1C,UAAIA,KAAK,CAACH,EAAN,KAAaK,YAAY,CAACL,EAA9B,EAAkC;AAChC,eAAOK,YAAP;AACD,OAFD,MAEO;AACL,eAAOF,KAAP;AACD;AACF,KANqB,CAAtB;AAOAf,IAAAA,SAAS,CAACa,aAAD,CAAT;AACD;;AAED,QAAMM,UAAU,GAAGpB,MAAM,CAACe,MAAP,CAAeC,KAAD,IAC/BA,KAAK,CAACK,IAAN,CAAWC,WAAX,GAAyBC,QAAzB,CAAkCrB,MAAM,CAACoB,WAAP,EAAlC,CADiB,CAAnB;AAIA,sBACC;AAAA,2BACG,QAAC,SAAD;AACE,MAAA,MAAM,EAAEF,UADV;AAEE,MAAA,aAAa,EAAER;AAFjB;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,UADD;AAQD;;GA9CQf,I;UACWH,S,EACFC,U;;;KAFTE,I;AAgDT,eAAeA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {useParams, useHistory} from \"react-router-dom\"\nimport FruitList from \"./FruitList\";\n\nfunction Shop() {\n  const {ownerId} = useParams()\n  const history = useHistory() \n  const [fruits, setFruits] = useState([]);\n  const [search, setSearch] = useState(\"\");\n\n\n  fetch(`http://localhost:9292/owners/${ownerId}/fruits`)\n  .then((r) => r.json())\n  .then((fruits) => {\n    console.log(fruits)\n    setFruits(fruits)\n  })\n\n  function handleAddFruit(newFruit) {\n    setFruits([...fruits, newFruit])\n  }\n\n  function handleDeleteFruit(id) {\n    const updatedFruits = fruits.filter((fruit) => fruit.id !== id)\n    setFruits(updatedFruits)\n  }\n\n  function handleUpdateFruit(updatedFruit) {\n    const updatedFruits = fruits.map((fruit) => {\n      if (fruit.id === updatedFruit.id) {\n        return updatedFruit;\n      } else {\n        return fruit;\n      }\n    });\n    setFruits(updatedFruits)\n  }\n\n  const showFruits = fruits.filter((fruit) =>\n    fruit.name.toLowerCase().includes(search.toLowerCase())\n  );\n  \n  return (\n   <div>\n      <FruitList\n        fruits={showFruits}\n        onDeleteFruit={handleDeleteFruit}\n      />\n    </div>\n  );\n}\n\nexport default Shop;\n"]},"metadata":{},"sourceType":"module"}